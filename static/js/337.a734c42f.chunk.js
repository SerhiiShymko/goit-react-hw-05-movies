"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[337],{854:function(e,t,n){var r=n(691),a=n(184);t.Z=function(){return(0,a.jsx)(r.C,{visible:!0,height:"80",width:"80",ariaLabel:"dna-loading",wrapperStyle:{},wrapperClass:"dna-wrapper",ballColors:["#ff0000","#00ff00","#0000ff"],backgroundColor:"#F4442E"})}},337:function(e,t,n){n.r(t),n.d(t,{default:function(){return g}});var r=n(439),a=n(689),c=n(87),o=n(854),u=n(241),i=n(791),s=n(135),l="SearchForm_searchbar__ufFAl",f="SearchForm_searchForm__NsJpF",p="SearchForm_searchFormButton__Zv-9i",h="SearchForm_input__HOxJo",m=n(184),d=function(e){var t=e.onSubmit;return(0,m.jsx)("div",{className:l,children:(0,m.jsxs)("form",{className:f,onSubmit:t,children:[(0,m.jsx)("button",{className:p,type:"submit",children:(0,m.jsx)(s.U41,{size:12})}),(0,m.jsx)("input",{className:h,name:"movieName",type:"text",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"May contain only letters, apostrophe, dash and spaces. For example moon",required:!0,autoComplete:"off",autoFocus:!0,placeholder:"Search movie..."})]})})},g=function(){var e,t=(0,a.TH)(),n=(0,c.lr)(),s=(0,r.Z)(n,2),l=s[0],f=s[1],p=null!==(e=l.get("movieName"))&&void 0!==e?e:"",h=(0,i.useState)(!1),g=(0,r.Z)(h,2),v=g[0],x=g[1],_=(0,i.useState)(!1),y=(0,r.Z)(_,2),b=y[0],w=y[1],Z=(0,i.useState)([]),S=(0,r.Z)(Z,2),k=S[0],j=S[1];(0,i.useEffect)((function(){""!==p&&(j([]),x(!0),(0,u.z1)(p).then((function(e){if(!e||!e.results||0===e.results.length)return x(!1),w(!0),console.log("There are no movies for this request. Please, try again");w(!1),j(e.results),x(!1)})))}),[p]);return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(d,{onSubmit:function(e){e.preventDefault();var t=e.currentTarget;f({movieName:t.elements.movieName.value}),t.reset()},setSearchParams:f}),b&&(0,m.jsx)("p",{children:"There is no movies with this request. Please, try again"}),(0,m.jsxs)("div",{children:[k.map((function(e){return(0,m.jsx)("li",{children:(0,m.jsx)(c.rU,{to:"/movies/".concat(e.id),state:{from:t},children:e.original_title||e.name})},e.id)})),v&&(0,m.jsx)(o.Z,{})]})]})}},241:function(e,t,n){n.d(t,{Hg:function(){return p},M1:function(){return x},TP:function(){return g},tx:function(){return y},z1:function(){return m}});var r=n(861),a=n(757),c=n.n(a),o=n(243),u="f492f391e784a6c6bab08c174c3d150f",i="https://api.themoviedb.org/3",s="".concat(i,"/trending/all/day"),l="".concat(i,"/search/movie"),f="".concat(i,"/movie");function p(){return h.apply(this,arguments)}function h(){return(h=(0,r.Z)(c().mark((function e(){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(s,"?api_key=").concat(u,"&language=en-US"),e.next=3,o.Z.get(t).then((function(e){return e.data})).catch((function(e){return console.log(e)}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(e){return d.apply(this,arguments)}function d(){return(d=(0,r.Z)(c().mark((function e(t){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(l,"?api_key=").concat(u,"&include_adult=false&query=").concat(t,"&language=en-US&page=1"),e.next=3,o.Z.get(n).then((function(e){return e.data})).catch((function(e){return console.log(e)}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(e){return v.apply(this,arguments)}function v(){return(v=(0,r.Z)(c().mark((function e(t){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(f,"/").concat(t,"?api_key=").concat(u,"&language=en-US"),e.next=3,o.Z.get(n).then((function(e){return e.data})).catch((function(e){return console.log(e)}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(e){return _.apply(this,arguments)}function _(){return(_=(0,r.Z)(c().mark((function e(t){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(f,"/").concat(t,"/credits?api_key=").concat(u,"&language=en-US"),e.next=3,o.Z.get(n).then((function(e){return e.data})).catch((function(e){return console.log(e)}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(e){return b.apply(this,arguments)}function b(){return(b=(0,r.Z)(c().mark((function e(t){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(f,"/").concat(t,"/reviews?api_key=").concat(u,"&language=en-US"),e.next=3,o.Z.get(n).then((function(e){return e.data})).catch((function(e){return console.log(e)}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}}]);
//# sourceMappingURL=337.a734c42f.chunk.js.map